<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">Products</h1>
    <div>
        <h2 class="text-2xl font-semibold mb-4">Lista de Productos</h2>
        {{log products}} 
        {{#if products.docs.length}}
            <ul class="bg-white shadow-md rounded-lg divide-y divide-gray-200">
                {{#each products.docs}}
                    <li class="p-6 flex justify-between items-start">
                        <div class="flex-1">
                            <h3 class="text-xl font-bold mb-2">{{this.title}}</h3>
                            <p class="text-gray-600 mb-2">Precio: <span class="font-semibold">${{this.price}}</span></p>
                            <p class="text-gray-700 mb-2">Descripción: {{this.description}}</p>
                            <p class="text-gray-600 mb-1">Categoría: <span class="bg-blue-100 text-blue-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">{{this.category}}</span></p>
                        </div>
                        
                        <div class="flex flex-col items-end ml-4">
                            <a href="/views/products/{{this._id}}" class="inline-block mb-2 w-32 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 text-center">
                                Ver Producto
                            </a>
                            <button class="add-to-cart-btn inline-block w-32 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 text-center" data-id="{{this._id}}">
                                Agregar al Carrito
                            </button>
                        </div>
                    </li>
                {{/each}}
            </ul>

            <div class="mt-6 flex justify-between">
                {{#if products.hasPrevPage}}
                    <a href="/views/products/paginated/{{products.prevPage}}" class="inline-block px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                        Página Anterior
                    </a>
                {{/if}}

                {{#if products.hasNextPage}}
                    <a href="/views/products/paginated/{{products.nextPage}}" class="inline-block px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">
                        Página Siguiente
                    </a>
                {{/if}}
            </div>
        {{else}}
            <p class="text-gray-600 bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4">No hay productos disponibles en este momento.</p>
        {{/if}}
    </div>
</div>
